<Window x:Class="GTAVInjector.RequirementsWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="System Requirements Check"
        Height="650" Width="900"
        WindowStartupLocation="CenterScreen"
        Background="Transparent"
        AllowsTransparency="True"
        WindowStyle="None"
        ResizeMode="NoResize">

	<Window.Resources>
		<!-- Animaciones dinÃ¡micas del fondo GTA V -->
		<Storyboard x:Key="BackgroundAnimation" RepeatBehavior="Forever">
			<!-- Movimiento suave de la imagen principal -->
			<DoubleAnimation Storyboard.TargetName="BackgroundTranslate"
                           Storyboard.TargetProperty="X"
                           From="-20" To="20" Duration="0:0:6" AutoReverse="True">
				<DoubleAnimation.EasingFunction>
					<SineEase EasingMode="EaseInOut"/>
				</DoubleAnimation.EasingFunction>
			</DoubleAnimation>
			<DoubleAnimation Storyboard.TargetName="BackgroundTranslate"
                           Storyboard.TargetProperty="Y"
                           From="-15" To="15" Duration="0:0:6" AutoReverse="True">
				<DoubleAnimation.EasingFunction>
					<SineEase EasingMode="EaseInOut"/>
				</DoubleAnimation.EasingFunction>
			</DoubleAnimation>

			<!-- Zoom sutil -->
			<DoubleAnimation Storyboard.TargetName="BackgroundScale"
                           Storyboard.TargetProperty="ScaleX"
                           From="1.0" To="1.05" Duration="0:0:8" AutoReverse="True">
				<DoubleAnimation.EasingFunction>
					<SineEase EasingMode="EaseInOut"/>
				</DoubleAnimation.EasingFunction>
			</DoubleAnimation>
			<DoubleAnimation Storyboard.TargetName="BackgroundScale"
                           Storyboard.TargetProperty="ScaleY"
                           From="1.0" To="1.05" Duration="0:0:8" AutoReverse="True">
				<DoubleAnimation.EasingFunction>
					<SineEase EasingMode="EaseInOut"/>
				</DoubleAnimation.EasingFunction>
			</DoubleAnimation>

			<!-- AnimaciÃ³n de partÃ­culas layer 1 -->
			<DoubleAnimation Storyboard.TargetName="ParallaxLayer1"
                           Storyboard.TargetProperty="(UIElement.RenderTransform).(TranslateTransform.X)"
                           From="0" To="-80" Duration="0:0:7" AutoReverse="True">
				<DoubleAnimation.EasingFunction>
					<SineEase EasingMode="EaseInOut"/>
				</DoubleAnimation.EasingFunction>
			</DoubleAnimation>

			<!-- AnimaciÃ³n de partÃ­culas layer 2 -->
			<DoubleAnimation Storyboard.TargetName="ParallaxLayer2"
                           Storyboard.TargetProperty="(UIElement.RenderTransform).(TranslateTransform.X)"
                           From="0" To="60" Duration="0:0:9" AutoReverse="True">
				<DoubleAnimation.EasingFunction>
					<SineEase EasingMode="EaseInOut"/>
				</DoubleAnimation.EasingFunction>
			</DoubleAnimation>
		</Storyboard>
	</Window.Resources>

	<Window.Triggers>
		<EventTrigger RoutedEvent="Loaded">
			<BeginStoryboard Storyboard="{StaticResource BackgroundAnimation}"/>
		</EventTrigger>
	</Window.Triggers>

	<Border BorderBrush="#A946FF" BorderThickness="2" CornerRadius="15" Padding="0">
		<Grid>
			<!-- Fondo dinÃ¡mico con imagen GTA V y parallax -->
			<Canvas ClipToBounds="True" x:Name="DynamicBackgroundCanvas">
				<!-- Imagen de fondo base con efecto blur -->
				<Image x:Name="BackgroundImage"
                       Source="Resources/wallpaper_gta_v.png"
                       Canvas.Left="0" Canvas.Top="0"
                       Width="1000" Height="700"
                       Stretch="UniformToFill"
                       Opacity="0.85">
					<Image.Effect>
						<BlurEffect Radius="0.5"/>
					</Image.Effect>
					<Image.RenderTransform>
						<TransformGroup x:Name="BackgroundTransform">
							<TranslateTransform x:Name="BackgroundTranslate"/>
							<ScaleTransform x:Name="BackgroundScale" ScaleX="1.0" ScaleY="1.0"/>
						</TransformGroup>
					</Image.RenderTransform>
				</Image>

				<!-- Capa de overlay para oscurecer ligeramente -->
				<Rectangle Canvas.Left="0" Canvas.Top="0" Width="1000" Height="700"
                          Fill="Black" Opacity="0.5"/>

				<!-- Capa de parallax 1 -->
				<Canvas x:Name="ParallaxLayer1" Width="1000" Height="700" Opacity="0.4">
					<Canvas.RenderTransform>
						<TranslateTransform X="0" Y="0"/>
					</Canvas.RenderTransform>
					<Ellipse Width="8" Height="8" Canvas.Left="100" Canvas.Top="150" Fill="#A946FF" Opacity="0.8">
						<Ellipse.Effect>
							<BlurEffect Radius="2"/>
						</Ellipse.Effect>
					</Ellipse>
					<Ellipse Width="10" Height="10" Canvas.Left="400" Canvas.Top="300" Fill="#BB4CFF" Opacity="0.7">
						<Ellipse.Effect>
							<BlurEffect Radius="3"/>
						</Ellipse.Effect>
					</Ellipse>
					<Ellipse Width="6" Height="6" Canvas.Left="700" Canvas.Top="200" Fill="#FF72E2" Opacity="0.9">
						<Ellipse.Effect>
							<BlurEffect Radius="2"/>
						</Ellipse.Effect>
					</Ellipse>
				</Canvas>

				<!-- Capa de parallax 2 -->
				<Canvas x:Name="ParallaxLayer2" Width="1000" Height="700" Opacity="0.3">
					<Canvas.RenderTransform>
						<TranslateTransform X="0" Y="0"/>
					</Canvas.RenderTransform>
					<Ellipse Width="12" Height="12" Canvas.Left="200" Canvas.Top="250" Fill="#7B3FD1" Opacity="0.8">
						<Ellipse.Effect>
							<BlurEffect Radius="4"/>
						</Ellipse.Effect>
					</Ellipse>
					<Ellipse Width="7" Height="7" Canvas.Left="600" Canvas.Top="400" Fill="#C965FF" Opacity="0.7">
						<Ellipse.Effect>
							<BlurEffect Radius="2"/>
						</Ellipse.Effect>
					</Ellipse>
				</Canvas>
			</Canvas>

			<!-- Contenido principal -->
			<Grid Margin="2">
				<Grid.RowDefinitions>
					<RowDefinition Height="60"/>
					<RowDefinition Height="*"/>
				</Grid.RowDefinitions>

				<!-- Barra de tÃ­tulo personalizada -->
				<Border Grid.Row="0" Background="#1A0128" CornerRadius="13,13,0,0">
					<Grid>
						<Grid.ColumnDefinitions>
							<ColumnDefinition Width="Auto"/>
							<ColumnDefinition Width="*"/>
							<ColumnDefinition Width="Auto"/>
						</Grid.ColumnDefinitions>

						<!-- Logo y tÃ­tulo -->
						<StackPanel Grid.Column="0" Orientation="Horizontal" Margin="15,0">
							<Image x:Name="LogoImage" Width="40" Height="40" Margin="0,0,10,0"
                                   Source="pack://application:,,,/Resources/logo tessio.png" VerticalAlignment="Center"/>
							<StackPanel VerticalAlignment="Center">
								<TextBlock x:Name="TitleText" Text="System Requirements" FontSize="18" FontWeight="Bold" Foreground="#FF9EFF"/>
								<TextBlock x:Name="SubtitleText" Text="Checking configuration..." FontSize="10" Foreground="#D3B4FF"/>
							</StackPanel>
						</StackPanel>

						<!-- Selector de idioma -->
						<Border Grid.Column="1" Margin="0,0,20,0" HorizontalAlignment="Right"
                                Background="#2A0B3A" CornerRadius="20" Padding="8,4">
							<StackPanel Orientation="Horizontal" VerticalAlignment="Center">
								<TextBlock Text="" FontFamily="Segoe MDL2 Assets" FontSize="14"
                                           Foreground="#FF9EFF" VerticalAlignment="Center" Margin="0,0,6,0"/>
								<ComboBox x:Name="LanguageSelector" Width="120" Height="26"
                                          Background="#2A0B3A" Foreground="#FFFFFF" BorderBrush="#A946FF"
                                          Padding="4,0" FontWeight="SemiBold" BorderThickness="1"
                                          FontSize="11"
                                          SelectionChanged="LanguageSelector_SelectionChanged">
									<ComboBoxItem Content="ðŸ‡ºðŸ‡¸ English" Tag="en"/>
									<ComboBoxItem Content="ðŸ‡ªðŸ‡¸ EspaÃ±ol" Tag="es" IsSelected="True"/>
								</ComboBox>
							</StackPanel>
						</Border>

						<!-- BotÃ³n cerrar -->
						<Button Grid.Column="2" Content="âœ•" Width="45" Height="30"
                                Background="Transparent" Foreground="White" BorderThickness="0"
                                FontSize="16" Cursor="Hand" Click="Close_Click">
							<Button.Style>
								<Style TargetType="Button">
									<Setter Property="Template">
										<Setter.Value>
											<ControlTemplate TargetType="Button">
												<Border Background="Transparent">
													<ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
												</Border>
											</ControlTemplate>
										</Setter.Value>
									</Setter>
									<Style.Triggers>
										<Trigger Property="IsMouseOver" Value="True">
											<Setter Property="Foreground" Value="#FF4FD8"/>
										</Trigger>
									</Style.Triggers>
								</Style>
							</Button.Style>
						</Button>
					</Grid>
				</Border>

				<!-- Contenido -->
				<Border Grid.Row="1" Background="#A5180429" CornerRadius="0,0,13,13" Padding="30,20">
					<Grid>
						<Grid.RowDefinitions>
							<RowDefinition Height="Auto"/>
							<RowDefinition Height="*"/>
							<RowDefinition Height="Auto"/>
						</Grid.RowDefinitions>

						<!-- Resumen superior -->
						<StackPanel Grid.Row="0" Margin="0,0,0,15">
							<TextBlock x:Name="StatusSummaryText"
                                      Text="Checking system requirements..."
                                      FontSize="18" FontWeight="Bold"
                                      Foreground="#FF9EFF"
                                      HorizontalAlignment="Center"
                                      Margin="0,0,0,5"/>
							<TextBlock x:Name="StatusCountText"
                                      Text="0/5 requirements met"
                                      FontSize="14"
                                      Foreground="#D3B4FF"
                                      HorizontalAlignment="Center"/>
						</StackPanel>

						<!-- Lista de requisitos con scroll -->
						<ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto"
                                     HorizontalScrollBarVisibility="Disabled"
                                     Margin="0,0,0,15">
							<StackPanel x:Name="RequirementsPanel">
								<!-- Los requisitos se agregarÃ¡n dinÃ¡micamente -->
							</StackPanel>
						</ScrollViewer>

						<!-- Botones inferiores -->
						<StackPanel Grid.Row="2" Orientation="Horizontal"
                                   HorizontalAlignment="Center">
							<Button x:Name="DownloadButton"
                                   Content="ðŸ“¥ Download VC++ Redist"
                                   Width="200" Height="45"
                                   Background="#A946FF"
                                   Foreground="White"
                                   BorderBrush="#A946FF"
                                   FontSize="13"
                                   FontWeight="SemiBold"
                                   Margin="5"
                                   Click="DownloadButton_Click"
                                   Style="{StaticResource PrimaryButton}"/>

							<Button x:Name="ContinueButton"
                                   Content="âœ”ï¸ Continue"
                                   Width="200" Height="45"
                                   Background="#BB4CFF"
                                   Foreground="White"
                                   BorderBrush="#BB4CFF"
                                   FontSize="13"
                                   FontWeight="SemiBold"
                                   Margin="5"
                                   Click="ContinueButton_Click"
                                   Style="{StaticResource SuccessButton}"/>
						</StackPanel>
					</Grid>
				</Border>
			</Grid>
		</Grid>
	</Border>
</Window>